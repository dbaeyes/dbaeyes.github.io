I"Y<h2 id="sql-分页">SQL 分页</h2>

<ol>
  <li>
    <p>常用分页，其中的 第二层的  rownum &lt;= 20可以控制最内层查询过程中的最大记录数</p>

    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>   select * from (select t1.*, rownum rn
   	  from (select *
         from table_buyer
        where buyer_status = 2
        order by gmt_create desc) t1
  where rownum &lt;= 20) 
where rn &gt;= 10;
</code></pre></div>    </div>
  </li>
  <li>
    <p>分页用between实现<br />
不推荐，因为第三层不能推到最内层控制查询条数，效率低</p>

    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>select * from (select t.*, rownum rn
    from (select *
          from table_buyer
         where buyer_status = 2
         order by gmt_create desc) t) 
         where rn between 10 and 20;
</code></pre></div>    </div>
  </li>
  <li>
    <p>效率最高<br />
用rowid 分页，大数据量翻页常用写法，常用于单表，并且所有查询和排序字段都在索引中的情况</p>

    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>select * from (select rid
  from (select t.rid, rownum linenum
          from (select rowid rid
                  from table_buyer
                 where buyer_status = 2
                 order by gmt_create desc) t
         where rownum &lt;= 20)
 where linenum &gt;= 10) t1, table_buyer t2   
 where t1.rid = t2.rowid;
</code></pre></div>    </div>
  </li>
</ol>

<p>…</p>
:ET