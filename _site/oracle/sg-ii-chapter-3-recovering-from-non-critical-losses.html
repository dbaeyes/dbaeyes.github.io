<!DOCTYPE html>
<html lang="en">

<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="在遙遠的地方 一切虔誠終必相遇">

    <title>SG II: Chapter 3 | Recovering From Non-Critical Losses - Microdust</title>

    <link rel="canonical" href="http://dbaeyes.github.io/oracle/sg-ii-chapter-3-recovering-from-non-critical-losses.html">

    <!-- Icons -->
  <link rel="shortcut icon" href="img/favicon.ico">

    <!-- Bootstrap Core CSS -->
    <link rel="stylesheet" href="/css/bootstrap.min.css">

    <!-- Custom CSS -->
    <link rel="stylesheet" href="/css/clean-blog.css">

    <!-- Pygments Github CSS -->
    <link rel="stylesheet" href="/css/syntax.css">

    <!-- Custom Fonts -->
    <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css" rel="stylesheet" type="text/css">
    <link href='//fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic' rel='stylesheet' type='text/css'>
    <link href='//fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800' rel='stylesheet' type='text/css'>

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

</head>


<body ontouchstart="">

    <!-- Navigation -->
<nav class="navbar navbar-default navbar-custom navbar-fixed-top">
    <div class="container-fluid">
        <!-- Brand and toggle get grouped for better mobile display -->
        <div class="navbar-header page-scroll">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="/">Microdust</a>
        </div>

        <!-- Collect the nav links, forms, and other content for toggling -->
        <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
            <ul class="nav navbar-nav navbar-right">
                <li>
                    <a href="/">Home</a>
                </li>
                
                <li>
                    <a href="/About.html">About</a>
                </li>
                
                <li>
                    <a href="/Lists.html">Reading</a>
                </li>
                
                <li>
                    <a href="/Tools.html">Tools</a>
                </li>
                
                <li>
                    <a href="/tags.html">Tags</a>
                </li>
                
                <li>
                    <a href="/photos/Instagram/">Photos: Instagram</a>
                </li>
                
                <li>
                    <a href="/photos/">Photos</a>
                </li>
                

            </ul>
        </div>
        <!-- /.navbar-collapse -->
    </div>
    <!-- /.container -->
</nav>


    <!-- Post Header -->
<style type="text/css">
    header.intro-header{
        background-image: url('/img/fantasy.jpg')
    }
</style>
<header class="intro-header" >
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <div class="post-heading">
                    <div class="Tags">
                        
                        <a class="tag" href="/Tags/#oracle" title="oracle">oracle</a>
                        
                        <a class="tag" href="/Tags/#sg" title="sg">sg</a>
                        
                        <a class="tag" href="/Tags/#study" title="study">study</a>
                        
                    </div>
                    <h1>SG II: Chapter 3 | Recovering From Non-Critical Losses</h1>
                    
                    <span class="meta">Posted by {"login"=>"Toby", "email"=>"renwei.chu@gmail.com", "display_name"=>"David", "first_name"=>"", "last_name"=>""} on April 21, 2008</span>
                </div>
            </div>
        </div>
    </div>
</header>

<!-- Post Content -->
<article>
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1 post-container">

                <p><strong><span style="color: #ff6600;">Objects:</span></strong></p>
<div>
<p>Recover temporary tablespaces.<br />
Recover a redo log group member.<br />
Recover index tablespaces.<br />
Recover read-only tablespaces.<br />
Recreate the password file.</p>
<p>---------------------------------------------</p>
<p><strong><span style="color: #ff6600;">Creating a New Temporary Tablespace</span></strong></p>
<p>In a media failure such as a disk failure or controller failure, the temporary datafile could become unavailable. This would cause sorting operations such as creating indexes or select statements to fail. The remedy for this situation is to drop the tablespace—including its contents if they exist—which will remove the datafile and tablespace reference from the data dictionary. Then you simply create the temporary tablespace.</p>
<p><span>CREATE TEMPORARY TABLESPACE TEMP TEMPFILE<br />
'/u01/app/oracle/oradata/ORCL/datafile/tempfile01.tmp' SIZE 20M AUTOEXTEND ON NEXT 640K MAXSIZE UNLIMITED<br />
EXTENT MANAGEMENT LOCAL UNIFORM SIZE 1M;</span><br />
----------------------------</p>
<p><strong><span style="color: #ff6600;">Starting the Database with a </span><span style="color: #0000ff;">Missing Tempfile</span></strong></p>
<p><span>&gt;sqlplus / as sysdba -- connect</span></p>
<p><span>SQL&gt; startup mount</span></p>
<p><span>SQL&gt; drop tablespace temp including contents;</span> -- drop temp tablespace</p>
<p><span>SQL&gt; create temporary tablespace temp tempfile -- create new<br />
'C:\oracle\oradata\ora101t\temp01.dbf' size 100m<br />
extent management local uniform size 128k;</span></p>
<p>---------------------------------</p>
<p><strong><span style="color: #ff6600;">Altering the Default Temporary Tablespace for a Database</span></strong></p>
<p><span>1. First, create a temporary tablespace if one doesn’t exist:<br />
SQL&gt;<br />
create temporary tablespace temp2 tempfile<br />
'C:\oracle\oradata\ora101t\temp2_01.dbf' size 100m<br />
extent management local uniform size 128k;</span></p>
<p><span>2.<br />
SQL&gt; alter database default temporary tablespace temp2;</span><br />
--------------------------</p>
<p><strong><span style="color: #ff6600;">Re-creating Redo Log Files</span></strong></p>
<p>1. First, identify that there is a missing redo log file member by looking at the trace files and alert<br />
log.</p>
<p>2. Next, remove the REDO01.LOG redo log file from data dictionary.<br />
<span>SQL&gt; alter database drop logfile member 'C:\ORACLE\ORADATA\ORA101T\REDO01.LOG';</span></p>
<p>3. Finally, re-create the missing REDO1.LOG redo log file by adding a new log called REDO1.LOG:<br />
<span>SQL&gt; alter database add logfile member 'C:\ORACLE\ORADATA\ORA101T\REDO01.LOG' to group 1;</span></p>
<p>--------------------------------------</p>
<p><strong><span style="color: #ff6600;">Recovering an Index Tablespace</span></strong></p>
<p>SQL&gt; startup mount</p>
<p>SQL&gt; drop tablespace indexes including contents;</p>
<p>SQL&gt; create tablespace indexes datafile 'C:\oracle\oradata\ora101t\index01.dbf' size 20m;</p>
<p>-----------------------</p>
<p><strong><span style="color: #ff6600;">Recovering Read-Only Tablespaces</span></strong></p>
<p>No recovery is required because there are no changes in the datafile. Just Copy!</p>
<p>------------------------</p>
<p><strong><span style="color: #ff6600;">Re-creating the Password File</span></strong></p>
<p>The ORAPWD executable is an Oracle utility that generates a password file for remote connections.The init.ora file must also contain the REMOTE_LOGIN_PASSWORDFILE parameter, set to SHARED or EXCLUSIVE.<br />
ORAPWD should be run when the database is shut down.</p>
<p>$ orapwd file=orapworcl password=syspass entries=20;</p>
<p>SQL&gt; select * from v$pwfile_users;</p>
<p>-----------------------</p>
<p>Non-critical losses are failures that do not impact database operations significantly or for a lengthy period of time.</p>
</div>


                <hr>


                <a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/"><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by-sa/4.0/88x31.png" /></a><br />This work is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/">CC A-S 4.0 International License</a>.

                <hr>

                <ul class="pager">
                    
                    <li class="previous">
                        <a href="/os/linux-user-management.html" data-toggle="tooltip" data-placement="top" title="Linux用户管理">&larr; Previous Post</a>
                    </li>
                    
                    
                    <li class="next">
                        <a href="/oracle/study-says-ha-in-oracle-rac-datagurad-of-distinction.html" data-toggle="tooltip" data-placement="top" title="温习一下Oracle中常说的HA、RAC、Datagurad的区别">Next Post &rarr;</a>
                    </li>
                    
                </ul>

                <!-- Duoshuo Share start -->
                <style>
                    .ds-share{
                        text-align: right;
                    }
                    
                    @media only screen and (max-width: 700px) {
                        .ds-share {

                        }
                    }
                </style>

                <div class="ds-share"
                    data-thread-key="/oracle/sg-ii-chapter-3-recovering-from-non-critical-losses" data-title="SG II: Chapter 3 | Recovering From Non-Critical Losses"
                    data-images="http://dbaeyes.github.io/img/fantasy.jpg"
                    data-content="Objects:

Recover temporary tablespaces.
Recover a redo log group member.
Rec... | Microdust:Azeril's blog"
                    data-url="http://dbaeyes.github.io/oracle/sg-ii-chapter-3-recovering-from-non-critical-losses.html">
                    <div class="ds-share-inline">
                      <ul  class="ds-share-icons-16">

                        <li data-toggle="ds-share-icons-more"><a class="ds-more" href="#">分享到：</a></li>
                        <li><a class="ds-wechat" href="javascript:void(0);" data-service="wechat">微信</a></li>
                        <li><a class="ds-weibo" href="javascript:void(0);" data-service="weibo">微博</a></li>
                        <li><a class="ds-douban" href="javascript:void(0);" data-service="douban">豆瓣</a></li>
                      </ul>
                      <div class="ds-share-icons-more">
                      </div>
                    </div>
                <hr>
                </div>
                <!-- Duoshuo Share end-->




                <!-- 多说评论框 start -->
                <div class="comment">
                    <div class="ds-thread" data-thread-key="/oracle/sg-ii-chapter-3-recovering-from-non-critical-losses" data-title="SG II: Chapter 3 | Recovering From Non-Critical Losses" data-url="http://dbaeyes.github.io/oracle/sg-ii-chapter-3-recovering-from-non-critical-losses.html"></div>
                </div>
                <!-- 多说评论框 end -->
            </div>
        </div>
    </div>
</article>



<!-- 多说公共JS代码 start (一个网页只需插入一次) -->
<script type="text/javascript">
var duoshuoQuery = {short_name:"azeril"};
    (function() {
        var ds = document.createElement('script');
        ds.type = 'text/javascript';ds.async = true;
        ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
        ds.charset = 'UTF-8';
        (document.getElementsByTagName('head')[0]
         || document.getElementsByTagName('body')[0]).appendChild(ds);
    })();
</script>
<!-- 多说公共JS代码 end -->



</script>

<!-- async load function -->
<script>
    function async(u, c) {
      var d = document, t = 'script',
          o = d.createElement(t),
          s = d.getElementsByTagName(t)[0];
      o.src = u;
      if (c) { o.addEventListener('load', function (e) { c(null, e); }, false); }
      s.parentNode.insertBefore(o, s);
    }
</script>

<!-- anchor-js, Doc:http://bryanbraun.github.io/anchorjs/ -->
<script>
    async("http://cdn.bootcss.com/anchor-js/1.1.1/anchor.min.js",function(){
        anchors.options = {
          visible: 'always',
          placement: 'right',
          icon: '#'
        };
        anchors.add().remove('.intro-header h1').remove('.subheading');
    })
</script>
<style>
    /* place left on bigger screen */
    @media all and (min-width: 800px) {
        .anchorjs-link{
            position: absolute;
            left: -0.75em;
            font-size: 1.1em;
            margin-top : -0.1em;
        }
    }
</style>

  
    <!-- Footer -->
<footer>
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <ul class="list-inline text-center">
                    <!-- kill the Facebook and Weibo -->
                    <li>
                        <a href="/feed.xml">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa fa-rss fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
                    

                    
                    <li>
                        <a href="https://twitter.com/Azeril_Lapland">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa fa-twitter fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
                    

                    
                    <li>
                        <a href="https://github.com/Azeril">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa fa-github fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
                    
                    
                    <!--
                    
                    <li>
                        <a href="http://www.douban.com/people/Azeril">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa fa-douban fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
                    
                    -->

                    <!--
                    
                    <li>
                        <a href="https://www.facebook.com/Azeril_Lapland">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa fa-facebook fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
                    
                    -->

                    
                    <li>
                        <a target="_blank" href="https://www.zhihu.com/people/Azeril">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa  fa-stack-1x fa-inverse">知</i>
                            </span>
                        </a>
                    </li>
                    

                    <!--
                    
                    <li>
                        <a target="_blank" href="http://weibo.com/Azeril">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa fa-weibo fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
                    
                    -->

                </ul>
                <p class="copyright text-muted">
                &copy; 2011~2016 David ♪ Powered by Jekyll.
                </p>
            </div>
        </div>
    </div>
</footer>

<!-- jQuery -->
<script src="/js/jquery.min.js "></script>

<!-- Bootstrap Core JavaScript -->
<script src="/js/bootstrap.min.js "></script>

<!-- Custom Theme JavaScript -->
<script src="/js/clean-blog.min.js "></script>




<!-- Highlight.js -->
<script>
    async("http://cdn.bootcss.com/highlight.js/8.6/highlight.min.js",function(){
        hljs.initHighlightingOnLoad();
    })
</script>
<link href="http://cdn.bootcss.com/highlight.js/8.6/styles/github.min.css" rel="stylesheet">


</body>

</html>