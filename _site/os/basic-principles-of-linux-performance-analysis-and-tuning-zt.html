<!DOCTYPE html>
<html lang="en">

<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="在遙遠的地方 一切虔誠終必相遇">

    <title>Linux性能分析和调整的基本原则 --zt - Microdust</title>

    <link rel="canonical" href="http://dbaeyes.github.io/os/basic-principles-of-linux-performance-analysis-and-tuning-zt.html">

    <!-- Icons -->
  <link rel="shortcut icon" href="img/favicon.ico">

    <!-- Bootstrap Core CSS -->
    <link rel="stylesheet" href="/css/bootstrap.min.css">

    <!-- Custom CSS -->
    <link rel="stylesheet" href="/css/clean-blog.css">

    <!-- Pygments Github CSS -->
    <link rel="stylesheet" href="/css/syntax.css">

    <!-- Custom Fonts -->
    <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css" rel="stylesheet" type="text/css">
    <link href='//fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic' rel='stylesheet' type='text/css'>
    <link href='//fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800' rel='stylesheet' type='text/css'>

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

</head>


<body ontouchstart="">

    <!-- Navigation -->
<nav class="navbar navbar-default navbar-custom navbar-fixed-top">
    <div class="container-fluid">
        <!-- Brand and toggle get grouped for better mobile display -->
        <div class="navbar-header page-scroll">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="/">Microdust</a>
        </div>

        <!-- Collect the nav links, forms, and other content for toggling -->
        <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
            <ul class="nav navbar-nav navbar-right">
                <li>
                    <a href="/">Home</a>
                </li>
                
                <li>
                    <a href="/About.html">About</a>
                </li>
                
                <li>
                    <a href="/Lists.html">Reading</a>
                </li>
                
                <li>
                    <a href="/Tools.html">Tools</a>
                </li>
                
                <li>
                    <a href="/tags.html">Tags</a>
                </li>
                
                <li>
                    <a href="/photos/Instagram/">Photos: Instagram</a>
                </li>
                
                <li>
                    <a href="/photos/">Photos</a>
                </li>
                

            </ul>
        </div>
        <!-- /.navbar-collapse -->
    </div>
    <!-- /.container -->
</nav>


    <!-- Post Header -->
<style type="text/css">
    header.intro-header{
        background-image: url('/img/fantasy.jpg')
    }
</style>
<header class="intro-header" >
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <div class="post-heading">
                    <div class="Tags">
                        
                        <a class="tag" href="/Tags/#linux" title="linux">linux</a>
                        
                        <a class="tag" href="/Tags/#tuning" title="tuning">tuning</a>
                        
                    </div>
                    <h1>Linux性能分析和调整的基本原则 --zt</h1>
                    
                    <span class="meta">Posted by {"login"=>"Toby", "email"=>"renwei.chu@gmail.com", "display_name"=>"David", "first_name"=>"", "last_name"=>""} on July 2, 2010</span>
                </div>
            </div>
        </div>
    </div>
</header>

<!-- Post Content -->
<article>
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1 post-container">

                <h1></h1>
<div>优化linux系统需要考虑多方面的因素,因为各个因素之间相互关联,因此遇到性能问题以及性能的调节需要综合考虑,基本要素考虑与分析:<br />
1，那些措施能确实提供性能？<br />
1）确保系统有足够的内存。<br />
2）使用集群；<br />
3）对磁盘进行优化（包括文件系统），提高I/O吞吐量；<br />
4）网络带宽；</p>
<p>2，影响系统性能的一般因素：<br />
1）CPU<br />
2）内存<br />
3）磁盘I/O宽带<br />
IXDBA.NET社区论坛<br />
4）网络I/O宽带<br />
一般来说，现在的网络服务器针对提供的服务，其CPU速度是足够提供处理能力的；所以<br />
影响性能的是磁盘和内存。内存不够，那么对虚拟内存管理系统来说要频繁地进行内存页<br />
写到磁盘，磁盘写到内存的操作。这就是内存交换过程，很大地影响了性能。</p>
<p>而网络I/O，一般来说他不是独立的。所以要综合其他因素来考虑。</p>
<p>3，检查系统的性能情况。<br />
1)CPU使用情况分析</p>
<p>以下指标来衡量CPU的负载情况.</p>
<p>总体利用率：</p>
<p>[root@linux stone]sar -u 5 5<br />
Linux 2.4.21-4.ELsmp (linux1)   01/04/05</p>
<p>18:00:17          CPU     %user     %nice   %system     %idle<br />
18:00:22          all      1.50      0.00      0.93     97.57<br />
18:00:27          all     16.02      0.00      4.74     79.24<br />
18:00:32          all      5.69      0.00      3.77     90.53<br />
18:00:37          all      0.79      0.00      1.10     98.11<br />
18:00:42          all      2.69      0.00      1.21     96.10<br />
Average:          all      5.15      0.00      2.24     92.61</p>
<p>获得指定CPU号（多CPU情况下）的使用情况<br />
[root@linux stone]sar -U 0<br />
Linux 2.4.21-4.ELsmp (linux1)   01/04/05<br />
00:00:00          CPU     %user     %nice   %system     %idle<br />
00:10:00            0      1.10      0.00      0.83     98.36<br />
00:20:00            0      0.55      0.00      0.78     97.52<br />
00:30:00            0      0.97      0.00      0.77     98.57<br />
00:40:00            0      1.15      0.00      0.93     97.09<br />
00:50:00            0      1.88      0.00      1.33     95.96<br />
01:00:00            0      1.20      0.00      1.11     96.66<br />
01:10:00            0      0.78      0.00      1.26     97.96<br />
01:20:00            0      1.07      0.00      1.04     96.91<br />
01:30:00            0      1.24      0.00      1.01     97.29</p>
<p>可以获得运行用户进程%user,内核进程%system 和空闲状态是CPU时间的百分比.</p>
<p>观察数据，获得结论：<br />
%user越大一般表明服务器处于运行状态；%system越大表明服务器处于系统调用<br />
或者I/O操作。如果CPU有大量时间处于空闲状态（%idle),那就说明CPU足够。</p>
<p>我们还可以获得每个时间段上内核切换当前进程的次数，如果这个数很高，表示服务器<br />
硬件有问题。<br />
[root@linux stone]sar -w<br />
07:50:00      cswch/s<br />
08:00:00       285.49<br />
08:10:00       259.64<br />
08:20:00       387.54<br />
08:30:00       359.15<br />
08:40:00       504.29<br />
08:50:00       762.73<br />
09:00:00       572.93<br />
09:10:01       885.75<br />
09:20:00      1159.97<br />
09:30:00      1101.83<br />
09:40:00      1095.72<br />
09:50:00      1052.89<br />
10:00:00       961.75<br />
10:10:00       861.31<br />
10:20:00       501.76<br />
10:30:00       370.81<br />
10:40:00       736.26<br />
10:50:00       635.93<br />
11:00:00       399.51<br />
11:10:00       873.58<br />
11:20:00       741.14<br />
11:30:00       776.49<br />
11:40:00       641.55<br />
Average:       416.97<br />
平均负载：<br />
系统平均负载被定义为在特定时间间隔内运行队列中的平均进程数，一般来说只要每个CPU的当<br />
前活动进程数不大于3那么系统的性能就是良好的，如果每个CPU的任务数大于5，那么就表示这<br />
台机器的性能有严重问题.</p>
<p>[root@linux stone]uptime<br />
18:07:22  up 10 days,  8:05,  1 user,  load average: 0.49, 0.31, 1.18<br />
表示在过去的1、5、15分钟内运行队列中的平均进程数量.</p>
<p>[root@linux stone]sar -q<br />
07:50:00      runq-sz  plist-sz   ldavg-1   ldavg-5<br />
08:00:00            0       214      0.01      0.08<br />
08:10:00            0       222      0.37      0.21<br />
08:20:00            1       229      0.41      0.42<br />
08:30:00            0       239      0.45      1.10<br />
08:40:00            0       242      0.24      0.36<br />
08:50:00            1       253      1.55      1.98<br />
09:00:00            0       248      0.45      0.55<br />
09:10:01            0       273      8.17      3.85<br />
09:20:00            0       295      0.62      0.99<br />
09:30:00            0       279      0.87      0.79<br />
09:40:00            1       284      0.62      0.68<br />
09:50:00            0       302      0.38      0.51<br />
10:00:00            0       277      0.98      0.79<br />
10:10:00            2       289      0.60      0.55<br />
10:20:00            2       264      0.28      0.33<br />
10:30:00            0       269      0.28      0.31<br />
10:40:00            0       284      0.58      0.46<br />
10:50:00            0       324      1.18      0.62<br />
11:00:00            0       311      0.43      0.31<br />
11:10:00            0       330      0.65      0.54<br />
11:20:00            1       335      0.45      0.45<br />
11:30:00            1       345      0.39      0.47<br />
11:40:00            0       322      0.22      0.36<br />
Average:            0       296      0.65      0.60<br />
runq-sz:等待运行的进程数<br />
plist-sz：总的进程数（在process list).<br />
ldavg-1 : 系统最后一分钟的平均负载<br />
ldavg-5:   系统最后5分钟的平均负载</p>
<p>每个进程的CPU消耗量：通过了解具体的某个进程对CPU消耗的统计，我们可以确定某一进程是否存在问题，<br />
并进行改善（改善该进程？改善硬件？....)<br />
可以用ps -aux或者top来观察某一进程对CPU的消耗情况。<br />
另外，vmstat工具也可以报告一些cpu的情况.<br />
[root@linux stone]vmstat<br />
procs                      memory      swap          io     system         cpu<br />
r  b   swpd   free   buff  cache   si   so    bi    bo   in         cs us sy id wa<br />
0  0  92456 141164 102032 2346524    0    0     7   5    9         5  1  1  6  8<br />
2) 内存情况<br />
你必须对系统内存管理过程进行了解，特别是页的交换等原理。一般用活动虚拟内存的总量和换页率来衡量<br />
内存的使用情况。从活动虚拟内存总量我们可以获得内存的需求量；根据换页率我们可以获得内存有多少处于<br />
使用中。换页率越高，说明内存使用很大（磁盘会咯咯响），这时候应该增加内存。</p>
<p>活动虚拟内存的总量(VM)=实际内存大小(size of real memory)+使用的交换空间大小(amount of swap space used)<br />
[root@linux stone]sar -r<br />
07:50:00    kbmemfree kbmemused  %memused kbmemshrd kbbuffers  kbcached kbswpfree kbswpused  %swpused<br />
www.ixdba.net<br />
08:00:00        74532   3536724     97.94         0     90808   2237872   8294676     91172      1.09<br />
08:10:00        93652   3517604     97.41         0     88864   2218328   8294696     91152      1.09<br />
08:20:00        63192   3548064     98.25         0     69988   2269068   8294700     91148      1.09<br />
08:30:00       272344   3338912     92.46         0     22552   2119284   8290536     95312      1.14<br />
08:40:00       126104   3485152     96.51         0     38888   2242808   8290560     95288      1.14<br />
08:50:00       191476   3419780     94.70         0     18528   2246968   8289944     95904      1.14<br />
09:00:00        55304   3555952     98.47         0     32836   2368824   8285288    100560      1.20<br />
09:10:01       201592   3409664     94.42         0     50876   2251528   8285708    100140      1.19<br />
09:20:00       32912   3578344     99.09         0     66316   2410260   8285984     99864      1.19<br />
09:30:00        55232   3556024     98.47         0     45944   2400496   8286072     99776      1.19<br />
09:40:00        51652   3559604     98.57         0     64392   2383592   8286216     99632      1.19<br />
09:50:00        45172   3566084     98.75         0     70144   2388804   8286428     99420      1.19<br />
10:00:00        52068   3559188     98.56         0     64676   2395512   8286564     99284      1.18<br />
10:10:00        51400   3559856     98.58         0     49620   2407528   8286596     99252      1.18<br />
IXDBA.NET社区论坛<br />
10:20:00        41692   3569564     98.85         0     47684   2424280   8286652     99196      1.18<br />
10:30:00        35200   3576056     99.03         0     50336   2431268   8286656     99192      1.18<br />
10:40:00        21400   3589856     99.41         0     64612   2423780   8286728     99120      1.18<br />
10:50:00        83048   3528208     97.70         0     68084   2331448   8286796     99052      1.18<br />
11:00:00        22072   3589184     99.39         0     70764   2416216   8286816     99032      1.18<br />
11:10:00        34376   3576880     99.05         0     56780   2405008   8286824     99024      1.18<br />
11:20:00        36376   3574880     98.99         0     48756   2397968   8286836     99012      1.18<br />
11:30:00        43808   3567448     98.79         0     49708   2398852   8286924     98924      1.18<br />
11:40:00        34884   3576372     99.03         0     60960   2408756   8286936     98912      1.18<br />
11:50:00        38328   3572928     98.94         0     67080   2407960   8286936     98912      1.18</p>
<p>12:00:00        38932   3572324     98.92         0     72724   2406132   8286940     98908      1.18<br />
12:10:00       109300   3501956     96.97         0     75348   2326492   8286940     98908      1.18<br />
Average:        64548   3546708     98.21         0     96633   2330707   8291911     93937      1.12</p>
<p>[root@linux stone]swapon -s<br />
Filename                        Type            Size    Used    Priority<br />
/dev/sdb8                       partition       4192924 98908   -1<br />
/dev/sdb10                           partition       4192924 0       -2<br />
通过以上数据，我们可以获得<br />
活动虚拟内存的总量(VM)=kbmem + kbswpused=3.54G<br />
3.47G就是当前服务器需要的内存总量.</p>
<p>[root@linux stone]sar -B<br />
07:50:00     pgpgin/s pgpgout/s  activepg  inadtypg  inaclnpg  inatarpg<br />
08:00:00         9.34    139.23    566687         0     13589    142713<br />
08:10:00        25.71    108.40    564261         0     13539    141743<br />
08:20:00       149.36    191.93    573187         0     13399    143335<br />
08:30:00        43.63    234.46    529094     35493     11998    134494<br />
08:40:00       246.68    277.54    565985     25012      9177    141597<br />
08:50:00       381.88    536.92    553537     52107     12381    140623<br />
09:00:00       190.29    307.08    581102     31530     12311    147195<br />
09:10:01       259.69    860.26    560927     60833     13643    142327<br />
09:20:00       487.91    550.73    604302     55059     14379    151157<br />
09:30:00       382.74    710.78    598312     70977     14059    149736<br />
09:40:00       354.97    510.46    598398     70661     13795    149920<br />
09:50:00       280.48    629.94    602880     64397     13864    150517<br />
10:00:00       447.48    659.52    602483     69873     13362    150261<br />
10:10:00       404.97    458.69    603719     68104     13724    150115<br />
10:20:00       310.69    272.95    601711     67460     13898    150651<br />
10:30:00       121.59    184.03    603972     56077     13928    151109<br />
10:40:00       263.55    392.60    605818     60314     17208    151754<br />
10:50:00       210.45    348.91    589640     72762     13761    148093<br />
11:00:00       190.55    199.58    607545     54517     15086    151774<br />
11:10:00       350.40    462.20    603874     75205     14074    150970<br />
11:20:00       374.10    437.94    603769     70937     13904    150877<br />
www.ixdba.net<br />
11:30:00       163.58    381.97    601763     62157     14369    150481<br />
11:40:00        96.75    298.26    605429     45214     14093    151042<br />
11:50:00       127.14    159.75    602817     38423     13911    150789<br />
12:00:00        57.85    186.46    602126     27663     14362    150737<br />
12:10:00        51.41    216.03    585281     32559     13808    146942<br />
12:20:00        95.07    225.01    600874      6573     13793    150148<br />
12:30:00       197.36    162.14    605716      5821     16786    151620<br />
12:40:00        16.31    145.40    604436         0     14285    151002<br />
Average:       100.76    226.88    591604     16947     13867148584</p>
<p>pgpgin/s: 换入页的KB数<br />
pgpgout/s: 换出页的KB数<br />
activepg: 内存中活动的页数<br />
inadtypg: Number of inactive dirty (modified or potentially modified) pages in memory.<br />
inaclnpg: Number of inactive clean (not modified) pages in memory.<br />
inatarpg: "Inactive  target"  number  of  pages.This field is a 1-minute floating average of the number of<br />
pages the system needs to "steal" every second in order to satisfy memory demand.</p>
<p>如果系统总是存在大量的换出页的KB数,说明系统需要内存.当然，inatarpg参数也能说明问题。<br />
IXDBA.NET社区论坛</p>
<p>3)磁盘I/O</p>
<p>我们可以用iostat来获得系统磁盘的数据.<br />
[stone@localhost stone]$ iostat<br />
Linux 2.4.20-19.7 (localhost.localdomain)       01/06/2005</p>
<p>avg-cpu:  %user   %nice    %sys   %idle<br />
0.09    0.00    0.21   99.70</p>
<p>Device:        tps   Blk_read/s   Blk_wrtn/s   Blk_read   Blk_wrtn<br />
dev3-1        0.77         4.65        17.03   11788068   43140248</p>
<p>tps:Indicate  the number of transfers per second that were issued to the device<br />
Blk_read/s:Indicate  the  amount  of  data read from the drive expressed in a number of blocks per second<br />
Blk_wrtn/s:Indicate the amount of data written to the drive expressed in a number of blocks  per  second.<br />
Blk_read:The total number of blocks read.<br />
Blk_wrtn:The total number of blocks written.</p>
<p>[stone@localhost stone]$ iostat -x<br />
Linux 2.4.20-19.7 (localhost.localdomain)       01/06/2005</p>
<p>avg-cpu:  %user   %nice    %sys   %idle<br />
0.09    0.00    0.21   99.70</p>
<p>Device:  rrqm/s wrqm/s   r/s   w/s  rsec/s  wsec/s avgrq-sz avgqu-sz   await  svctm  %util<br />
hdb        0.46   1.48  0.12  0.65    4.65   17.04    28.13     0.10  118.90 207.70   1.60<br />
hdb1       0.00   0.00  0.00  0.00    0.00    0.00     9.52     0.00  128.76  88.84   0.00<br />
hdb2       0.46   1.48  0.12  0.65    4.65   17.01    28.17     0.09  117.58  13.39<br />
0.10<br />
hdb3       0.00   0.00  0.00  0.00    0.00    0.03    15.25     0.00  619.92 519.40   0.01</p>
<p>[stone@localhost stone]$ procinfo<br />
Linux 2.4.20-19.7 (bhcompile@porky.devel.redhat.com) (gcc 2.96 20000731 ) #1 Tue Jul 15 13:45:48 EDT 2003 1CPU [localhost]</p>
<p>Memory:      Total        Used        Free      Shared     Buffers      Cached<br />
Mem:        255896      247240        8656           0       78772       87056<br />
Swap:       522104       26036      496068</p>
<p>Bootup: Wed Dec  8 10:28:53 2004    Load average: 0.00 0.00 0.00 1/72 2571</p>
<p>user  :       0:37:18.15   0.1%  page in :  5894299  disk 1:   306840r 1648467w<br />
nice  :       0:00:20.57   0.0%  page out: 21578634<br />
system:       1:27:38.76   0.2%  swap in :      985<br />
idle  :  29d  5:39:38.40  99.7%  swap out:     8822<br />
uptime:  29d  7:44:55.87         context :320846503</p>
<p>irq  0: 253349588 timer                 irq  6:         6<br />
irq  1:         3 keyboard              irq  8:         1 rtc<br />
irq  2:         0 cascade [4]           irq 12:   5277552 usb-uhci, eth0<br />
irq  3:         3                       irq 14:   1953315 ide0<br />
irq  4:         3<br />
4)网络负载<br />
可以先查看网络接口数据状态<br />
ifconfig如果发现collisions:0 数据很大（占发送数据或者接受数据的5%以上），那么说明网络<br />
严重堵塞。</p>
<p>netstat -i<br />
Kernel Interface table<br />
Iface   MTU Met   RX-OK RX-ERR RX-DRP RX-OVR   TX-OK TX-ERR TX-DRP TX-OVR Flg<br />
eth0   1500   0 4701184      0      0      0  912247      0      0      0 BMRU<br />
lo    16436   0 1285408      0      0      0 1285408      0      0      0 LRU</p></div>


                <hr>


                <a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/"><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by-sa/4.0/88x31.png" /></a><br />This work is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/">CC A-S 4.0 International License</a>.

                <hr>

                <ul class="pager">
                    
                    <li class="previous">
                        <a href="/my%20life/sanya-outing.html" data-toggle="tooltip" data-placement="top" title="三亚 outing">&larr; Previous Post</a>
                    </li>
                    
                    
                    <li class="next">
                        <a href="/mysql/mysql-uses-a-temporary-table-stored-procedure-to-delete-large-amounts-of-data-in-table.html" data-toggle="tooltip" data-placement="top" title="mysql 使用临时表+存储过程删除大表中的大量数据">Next Post &rarr;</a>
                    </li>
                    
                </ul>

                <!-- Duoshuo Share start -->
                <style>
                    .ds-share{
                        text-align: right;
                    }
                    
                    @media only screen and (max-width: 700px) {
                        .ds-share {

                        }
                    }
                </style>

                <div class="ds-share"
                    data-thread-key="/os/basic-principles-of-linux-performance-analysis-and-tuning-zt" data-title="Linux性能分析和调整的基本原则 --zt"
                    data-images="http://dbaeyes.github.io/img/fantasy.jpg"
                    data-content="
优化linux系统需要考虑多方面的因素,因为各个因素之间相互关联,因此遇到性能问题以及性能的调节需要综合考虑,基本要素考虑与分析:
1，那些措施能确实提... | Microdust:Azeril's blog"
                    data-url="http://dbaeyes.github.io/os/basic-principles-of-linux-performance-analysis-and-tuning-zt.html">
                    <div class="ds-share-inline">
                      <ul  class="ds-share-icons-16">

                        <li data-toggle="ds-share-icons-more"><a class="ds-more" href="#">分享到：</a></li>
                        <li><a class="ds-wechat" href="javascript:void(0);" data-service="wechat">微信</a></li>
                        <li><a class="ds-weibo" href="javascript:void(0);" data-service="weibo">微博</a></li>
                        <li><a class="ds-douban" href="javascript:void(0);" data-service="douban">豆瓣</a></li>
                      </ul>
                      <div class="ds-share-icons-more">
                      </div>
                    </div>
                <hr>
                </div>
                <!-- Duoshuo Share end-->




                <!-- 多说评论框 start -->
                <div class="comment">
                    <div class="ds-thread" data-thread-key="/os/basic-principles-of-linux-performance-analysis-and-tuning-zt" data-title="Linux性能分析和调整的基本原则 --zt" data-url="http://dbaeyes.github.io/os/basic-principles-of-linux-performance-analysis-and-tuning-zt.html"></div>
                </div>
                <!-- 多说评论框 end -->
            </div>
        </div>
    </div>
</article>



<!-- 多说公共JS代码 start (一个网页只需插入一次) -->
<script type="text/javascript">
var duoshuoQuery = {short_name:"azeril"};
    (function() {
        var ds = document.createElement('script');
        ds.type = 'text/javascript';ds.async = true;
        ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
        ds.charset = 'UTF-8';
        (document.getElementsByTagName('head')[0]
         || document.getElementsByTagName('body')[0]).appendChild(ds);
    })();
</script>
<!-- 多说公共JS代码 end -->



</script>

<!-- async load function -->
<script>
    function async(u, c) {
      var d = document, t = 'script',
          o = d.createElement(t),
          s = d.getElementsByTagName(t)[0];
      o.src = u;
      if (c) { o.addEventListener('load', function (e) { c(null, e); }, false); }
      s.parentNode.insertBefore(o, s);
    }
</script>

<!-- anchor-js, Doc:http://bryanbraun.github.io/anchorjs/ -->
<script>
    async("http://cdn.bootcss.com/anchor-js/1.1.1/anchor.min.js",function(){
        anchors.options = {
          visible: 'always',
          placement: 'right',
          icon: '#'
        };
        anchors.add().remove('.intro-header h1').remove('.subheading');
    })
</script>
<style>
    /* place left on bigger screen */
    @media all and (min-width: 800px) {
        .anchorjs-link{
            position: absolute;
            left: -0.75em;
            font-size: 1.1em;
            margin-top : -0.1em;
        }
    }
</style>

  
    <!-- Footer -->
<footer>
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <ul class="list-inline text-center">
                    <!-- kill the Facebook and Weibo -->
                    <li>
                        <a href="/feed.xml">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa fa-rss fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
                    

                    
                    <li>
                        <a href="https://twitter.com/Azeril_Lapland">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa fa-twitter fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
                    

                    
                    <li>
                        <a href="https://github.com/Azeril">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa fa-github fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
                    
                    
                    <!--
                    
                    <li>
                        <a href="http://www.douban.com/people/Azeril">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa fa-douban fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
                    
                    -->

                    <!--
                    
                    <li>
                        <a href="https://www.facebook.com/Azeril_Lapland">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa fa-facebook fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
                    
                    -->

                    
                    <li>
                        <a target="_blank" href="https://www.zhihu.com/people/Azeril">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa  fa-stack-1x fa-inverse">知</i>
                            </span>
                        </a>
                    </li>
                    

                    <!--
                    
                    <li>
                        <a target="_blank" href="http://weibo.com/Azeril">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa fa-weibo fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
                    
                    -->

                </ul>
                <p class="copyright text-muted">
                &copy; 2011~2016 David ♪ Powered by Jekyll.
                </p>
            </div>
        </div>
    </div>
</footer>

<!-- jQuery -->
<script src="/js/jquery.min.js "></script>

<!-- Bootstrap Core JavaScript -->
<script src="/js/bootstrap.min.js "></script>

<!-- Custom Theme JavaScript -->
<script src="/js/clean-blog.min.js "></script>




<!-- Highlight.js -->
<script>
    async("http://cdn.bootcss.com/highlight.js/8.6/highlight.min.js",function(){
        hljs.initHighlightingOnLoad();
    })
</script>
<link href="http://cdn.bootcss.com/highlight.js/8.6/styles/github.min.css" rel="stylesheet">


</body>

</html>