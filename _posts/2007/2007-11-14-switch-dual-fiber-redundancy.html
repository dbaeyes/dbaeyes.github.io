---
layout: post
title: 交换机双光纤冗余
date: 2007-11-14 23:30:13.000000000 +10:30
type: post
published: true
status: publish
categories:
- OS
tags: [works]
meta:
  posturl_add_url: 'yes'
  _edit_last: '1'
  views: '799'
---
<h1></h1>
<div>
<p>今天早上有人告诉有条生产线的网络断了，等我到公司的时候被告知断掉的有了4条。发现问题的严重性，直接找了公司的网络工程师jerry，他也从路由器上看到了这个现象“error... disable.. ” 导致了网络光纤的断开，在更新了核心路由器上的设置之后，生产线的网络是恢复正常了，但问题没有这么容易解决了，我们必须找到一个比较完善的解决方法，以防再次发生类似的问题。</p>
<p>我们使用的方法是，每条线的交换机上接双光纤做冗余，当一条断开的时候自动转到备用的光纤。（当然，我们现在的核心路由器已经是冗余的啦^_^） 因为涉及到生产的关系，先是在空闲的线上做了实验。结果如下：</p>
<p>主光纤： A     备用光纤： B    （A光纤的的优先级比B光纤高，更明确的说法应该是A连接上的路由器优先级比B连接的优先级要高。 A、B连接的核心路由器是两个做了冗余的CISCO 6509）</p>
<p>1. A. B同时连通，网络正常运行，此时网络使用A做通讯。 当A 断开时，网络会暂时中断18秒，然后B光纤自动连通（这个18秒应该看做是网络从A光纤转向B光纤的用时，属于正常状况）。 当B断开是，网络不会中断。</p>
<p>2. B连通，A接入。 网络同样会中断18秒，然后网络使用A光纤来做通讯。</p>
<p>3. A连通，B接入。 网络不会被中断，网络继续运行。</p>
<p>这样的设置，网络有了可用性就比原来提高了一倍。</p>
</div>
